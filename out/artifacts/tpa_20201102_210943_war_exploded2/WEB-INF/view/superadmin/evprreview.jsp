<!------------------------------->
<!---- Generated By Denny(luhox@qq.com), CS4SSH3.0 -->
<!---- Remarks: ItemListHTML-->
<!---- Date Generated: 2017-06-11 00:10:57-->
<!------------------------------->
<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<!doctype html>
<html class="no-js  fixed-layout">
<head>
<title>${pagetitle}-${appName}</title>
<jsp:include page="../inc/bsa_head.jsp"></jsp:include>
<jsp:include page="../inc/ket.jsp" />
<style type="text/css">
body{
	font-size: 2em;
}
.form-control-nobd {
	display: block;
	width: 100%;
	height: 34px;
	padding: 6px 12px;
	font-size: 2em;
	line-height: 1.42857143;
	color: #555;
	background-color: #fff;
	background-image: none;
	border: 0px solid #ccc;
}

.form-control-span {
	height: 34px;
	padding: 6px 0 0 0;
}
</style>
</head>
<body>
	<!-- content -->
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h3>
					<strong class="text-primary ">${pagetitle}-作答</strong>
				</h3>
			</div>
		</div>
		<div class="row">
			<c:choose>
				<c:when test="${item.type==1}">
					<div class="col-md-12">
						<%-- 填空题修改 --%>
						<div class="form-horizontal">
							<%-- 当前题号 --%>
							<input type="hidden" name="evprid" value="${param.evprid}" />
							<div class="form-group">
								<label for="score" class="col-sm-2 control-label">满分（${item.scoreWish}）</label>
								<c:choose>
									<c:when test="${item.score==0}">
										<div class="col-sm-2">
											<span class="form-control-nobd">未评</span>
										</div>
									</c:when>
									<c:when test="${item.score!=0}">
										<div class="col-sm-2">
											<span class="form-control">已评：${item.score}</span>
										</div>
									</c:when>
								</c:choose>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">问题：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.title}</div>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">正确答案：</label>
								<div class="col-sm-10">
									<c:forEach var="it" items="${item.answers}" varStatus="i">
										<div class="form-control-span">${it.answer}</div>
									</c:forEach>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">学生的回答：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.reply}</div>
								</div>
							</div>
						</div>
						<hr>
						<form class="form-horizontal"
							action="${basePath}superadmin/adminevprupdate/${evprid}" method="post">
							<div class="form-group">
								<label class="col-sm-2 control-label">更新：</label>
								<div class="col-sm-2">
									<input class="form-control" type="text" id="answer"
										name="answer" required />
								</div>
								<div class="col-sm-2">
									<button type="submit" class="btn btn-info">提交</button>
								</div>
							</div>
						</form>
						<%-- 填空题 --%>
					</div>
				</c:when>
				<c:when test="${item.type==3}">
					<div class="col-md-12">
						<form class="form-horizontal"
							action="${basePath}superadmin/adminevprupdate/${evprid}" method="post">
							<%-- 当前题号 --%>
							<input type="hidden" name="evprid" value="${param.evprid}" />
							<div class="form-group">
								<label for="score" class="col-sm-2 control-label">满分（${item.scoreWish}）</label>
								<c:choose>
									<c:when test="${item.score==0}">
										<div class="col-sm-2">
											<span class="form-control-nobd">未评</span>
										</div>
									</c:when>
									<c:when test="${item.score!=0}">
										<div class="col-sm-2">
											<span class="form-control">已评：${item.score}</span>
										</div>
									</c:when>
								</c:choose>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">问题：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.title}</div>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">正确答案：</label>
								<div class="col-sm-10">
									<c:forEach var="it" items="${item.answers}" varStatus="i">
										<div
											class="checkbox3 checkbox-${tagpostfixlist[i.count%fn:length(tagpostfixlist)]} checkbox-inline checkbox-check checkbox-round  checkbox-light">
											<input type="checkbox" id="tevpa3${i.count}"
												name="tevpa3${i.count}"
												<c:if test="${it.correct}">checked</c:if>> <label
												for="tevpa3${i.count}"> &nbsp;&nbsp;&nbsp;&nbsp;
												${it.answer} &nbsp;&nbsp;&nbsp;&nbsp; </label>
										</div>
									</c:forEach>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">备选答案：</label>
								<div class="col-sm-10">
									<c:forEach var="it" items="${item.answers}" varStatus="i">
										<div
											class="checkbox3 checkbox-${tagpostfixlist[i.count%fn:length(tagpostfixlist)]} checkbox-inline checkbox-check checkbox-round  checkbox-light">
											<input type="checkbox"
												<c:if test="${it.reply}">checked</c:if>> <label>
												&nbsp;&nbsp;&nbsp;&nbsp; ${it.answer}
												&nbsp;&nbsp;&nbsp;&nbsp; </label>
										</div>
									</c:forEach>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">学生的回答：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.reply}</div>
								</div>
							</div>

							<hr>

							<div class="form-group">
								<label class="col-sm-2 control-label">更新：</label>
								<div class="col-sm-2">
									<button type="submit" class="btn btn-info">提交</button>
								</div>
							</div>
						</form>
					</div>
				</c:when>
				<c:when test="${item.type==4}">
					<div class="col-md-12">
						<form class="form-horizontal"
							action="${basePath}superadmin/adminevprupdate/${evprid}" method="post">
							<%-- 当前题号 --%>
							<input type="hidden" name="evprid" value="${param.evprid}" />
							<div class="form-group">
								<label for="score" class="col-sm-2 control-label">满分（${item.scoreWish}）</label>
								<c:choose>
									<c:when test="${item.score==0}">
										<div class="col-sm-2">
											<span class="form-control-nobd">未评</span>
										</div>
									</c:when>
									<c:when test="${item.score!=0}">
										<div class="col-sm-2">
											<span class="form-control">已评：${item.score}</span>
										</div>
									</c:when>
								</c:choose>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">问题：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.title}</div>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">正确答案：</label>
								<div class="col-sm-10">
									<c:forEach var="it" items="${item.answers}" varStatus="i">
										<div class="radio3 radio-check radio-inline radio-success">
											<input type="radio" id="tevpa4${i.count}t"
												name="tevpa4${i.count}" value="true"
												<c:if test="${it.correct}">checked</c:if>> <label
												for="tevpa4${i.count}t"> 正确 </label>
										</div>
										<div class="radio3 radio-check radio-inline radio-warning">
											<input type="radio" id="tevpa4${i.count}f"
												name="tevpa4${i.count}" value="false"
												<c:if test="${it.correct==false}">checked</c:if>> <label
												for="tevpa4${i.count}f"> 错误 </label>
										</div>
									</c:forEach>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">学生的回答：</label>
								<div class="col-sm-10">
									<div class="form-control-span">${item.reply}</div>
								</div>
							</div>

							<hr>

							<div class="form-group">
								<label class="col-sm-2 control-label">更新：</label>
								<div class="col-sm-2">
									<button type="submit" class="btn btn-info">提交</button>
								</div>
							</div>
						</form>
					</div>
				</c:when>
				<c:when test="${item.type==5 || item.type==6}">
					<div class="col-md-12">
						<!-- 简答和问答 -->
						<form class="form-horizontal" method="post"
							enctype="multipart/form-data">
							<%-- 当前题号 --%>
							<input type="hidden" name="evprid" value="${param.evprid}" />
							<div class="form-group">
								<div class="col-sm-10 col-sm-offset-2">
									<button type="submit" class="btn btn-success">提交</button>
								</div>
							</div>
							<div class="form-group">
								<label for="score" class="col-sm-2 control-label">满分（${item.scoreWish}）</label>

								<c:choose>
									<c:when test="${item.score==0}">
										<div class="col-sm-2">
											<input type="number" id="score" name="score"
												class="form-control" min="0" max="${item.scoreWish}"
												placeholder="评价结论"
												value="<fmt:formatNumber type="number" pattern="###" value="${item.scoreWish*0.8}" />" />
										</div>
										<div class="col-sm-2">
											<span class="form-control-nobd">未评</span>
										</div>
									</c:when>
									<c:when test="${item.score!=0}">
										<div class="col-sm-2">
											<input type="number" id="score" name="score"
												class="form-control" min="0" max="${item.scoreWish}"
												placeholder="评价结论"
												value="<fmt:formatNumber type="number" pattern="###" value="${item.score}" />" />
										</div>
										<div class="col-sm-2">
											<span class="form-control-nobd text-danger">已评</span>
										</div>
									</c:when>
								</c:choose>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">问题：</label>
								<div class="col-sm-10">
									<span>${item.title}</span>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">文件</label>
								<div class="col-sm-10">
									<c:if
										test="${item.answers[0].correct && fn:length(filelist)>0}">																				
											文件列表如下：<br />
										<ul class="list-unstyled">
											<c:forEach var="it" items="${filelist}" varStatus="xh">
												<li class="am-margin-vertical"><a target="_blank"
													href="${basePath}superadmin/evrdownload?filehash=${it.filehash}">${it.filename}&nbsp;&nbsp;&nbsp;&nbsp;${it.filesize}字节</a>
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
<a href="${basePath}superadmin/evrdelete?filehash=${it.filehash}"
													class="btn btn-default  btn-sm">删除</a></li>
											</c:forEach>
										</ul>
									</c:if>
									<c:if test="${item.answers[1].correct}">
										<textarea id="answer" name="answer" rows="10" cols="50"
											required>${item.reply}</textarea>
									</c:if>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<button type="submit" class="btn btn-success">提交</button>
								</div>
							</div>
						</form>
						<hr>
						<form class="form-horizontal"
							action="${basePath}superadmin/evprupload/${evprid}" method="post"
							enctype="multipart/form-data">
							<div class="form-group">
								<label class="col-sm-2 control-label">上传：</label>
								<div class="col-sm-5">
									<input type="file" id="file" name="file" placeholder="文件"
										required />
								</div>
								<div class="col-sm-5">
									<button type="submit" class="btn btn-info">上传</button>
								</div>
							</div>
						</form>
						<!-- /简答和问答 -->
					</div>
				</c:when>
				<c:when test="${item.type==7}">
						<%-- 问答题的修改 --%>
						<form class="form-horizontal" method="post"
							enctype="multipart/form-data">
							<%-- 指定操作类型 --%>
							<input type="hidden" name="operate" value="submitform" />
							<%-- 问答题类型6 --%>
							<input type="hidden" name="evType" value="7" />
							<%-- 当前题号 --%>
							<input type="hidden" name="evprid" value="${evpr.id}" />
							<%-- 编号和一致evType --%>
							<div class="form-group margin-bottom-sm">
								<div class="col-sm-10">
									<input type="submit" class="btn btn-success" value="提交" />
								</div>
							</div>
							<div id="form5">
								<div class="form-group">
									<label for="title" class="col-sm-2 ">标题： </label>
									<div class="col-sm-10  text-left">
										<span>${item.title}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="evpcontent" class="col-sm-2 ">题目描述： </label>
									<div class="col-sm-10  text-left">
										<span>${item.evpcontent}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="evpin" class="col-sm-2 ">输入： </label>
									<div class="col-sm-10  text-left">
										<span>${item.evpin}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="evpout" class="col-sm-2 ">输出： </label>
									<div class="col-sm-10  text-left">
										<span>${item.evpout}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="evpexamplein" class="col-sm-2 ">样例输入： </label>
									<div class="col-sm-10  text-left">
										<span>${item.evpexamplein}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="evpexampleout" class="col-sm-2 ">样例输出： </label>
									<div class="col-sm-10  text-left">
										<span>${item.evpexampleout}</span>
									</div>
								</div>
								<div class="form-group">
									<label for="datalimit" class="col-sm-2 ">数据范围限制： </label>
									<div class="col-sm-10  text-left">
										<span>${item.datalimit}</span>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="difficulty" class="col-sm-2 ">文件 </label>
								
									<div class="col-sm-10  text-left">
										提交文件（C++编程题目，提交cpp文件）<input type="file" id="file" name="file"
											placeholder="文件" required /> <small></small>
									</div>
								
								<c:if test="${fn:length(filelist)>0}">
									<label for="difficulty" class="col-sm-2 "> </label>
									<div class="col-sm-10  text-left">
										本次考试你上传的文件列表如下：（包含其他小题的文件）<br />
										<ul>
											<c:forEach var="it" items="${filelist}" varStatus="xh">
												<li class="margin-vertical-sm">文件：<span
													class="text-danger fontsize15em">${it.filename}</span>;
													&nbsp;&nbsp;&nbsp;&nbsp;文件大小：${it.filesize}字节
													&nbsp;&nbsp;&nbsp;&nbsp;<a
													href="${basePath}${pagename}/${evpr.id}?operate=deletefile&evprid=${evpr.id}&fileid=${it.filehash}"
													class="btn btn-default  btn-sm">删除</a></li>
											</c:forEach>
										</ul>
									</div>
								</c:if>
							</div>


						</form>
					</c:when>
				
			</c:choose>
			<div class="col-md-12"></div>
		</div>
		<div class="row">
			<div class="col-md-12"></div>
		</div>
	</div>
	<script type="text/javascript">
		//add your script at here!
	</script>
</body>
</html>

